{let t=function(){let t=$("#post-form");t.submit((function(e){e.preventDefault(),$.ajax({type:"post",url:"/posts/add-post",data:t.serialize(),success:function(t){let e=n(t.post);$("#posts-list-container").prepend(e),s($(" .delete-post-btn",e)),new PostComments(t.post._id),new Noty({theme:"relax",text:"Post published!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},n=function(t){return $(`<div id="post-${t._id}" class="post-wrapper">\n        <div class="post-header">\n          <div class="post-avatar">\n            <a href="">\n              <img\n                src="https://image.flaticon.com/icons/svg/2154/2154651.svg"\n                alt="user-pic"\n              />\n            </a>\n            <div>\n              <span class="post-author">${t.user.name}</span>\n              <span class="post-time">a minute ago</span>\n            </div>\n            <button class="delete-btn no-btn">\n              <a class="delete-post-btn" href="/posts/delete-post/${t._id}"\n                ><i class="fas fa-times"></i\n              ></a>\n            </button>\n          </div>\n          <div class="post-content">${t.content}</div>\n      \n          <div class="post-actions">\n            <button class="post-like no-btn">\n             <img\n                src="https://image.flaticon.com/icons/svg/1077/1077035.svg"\n                alt="likes-icon"\n              />\n      \n              <span>${t.likes.length}</span>\n            </button>\n      \n            <div class="post-comments-icon">\n              <img\n                src="https://image.flaticon.com/icons/svg/1380/1380338.svg"\n                alt="comments-icon"\n              />\n              <span>${t.comments.length}</span>\n            </div>\n          </div>\n          <div class="post-comment-box">\n            <form id="post-${t._id}-comments-form" class="comments-form" action="/comments/add-comment" method="POST">\n              <input type="text" name="content" required />\n              <input type="hidden" name="post" value="${t._id}" />\n              <input type="submit" value="Add Comment" />\n            </form>\n          </div>\n      \n          <div id='post-comments-${t._id}' class="post-comments-list">\n          </div>\n        </div>\n      </div>`)},s=function(t){$(t).click((function(n){n.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.post_id).remove(),new Noty({theme:"relax",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},e=function(){console.log("ajax"),$("#posts-list-container>div").each((function(){let t=$(this);console.log(t);let n=$(" .delete-post-btn",t);console.log(n),s(n);let e=t.prop("id").split("-")[1];new PostComments(e)}))};t(),e()}