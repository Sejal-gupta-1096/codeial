function toggleLike(e){console.log(e),$(e).click((function(n){n.preventDefault(),$.ajax({type:"GET",url:$(e).attr("href"),success:function(n){let t,o=$(e).attr("data-likes");console.log(o,e),console.log(n),n.deleted?o--:o++,$(e).attr("data-likes",o),console.log(n.likeableType),"Posts"==n.type&&(t=1==n.deleted?newUnLikeDomPost(o,n.likeableType):newLikeDomPost(o,n.likeableType)),"Comments"==n.type&&(t=1==n.deleted?newUnLikeDomComment(o,n.likeableType):newLikeDomComment(o,n.likeableType)),$(e).html(t)},error:function(e){console.log(e.responseText)}})}))}$(".toggle-btn").each((function(){toggleLike($(this))}));let newLikeDomPost=function(e,n){return $(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${n._id}&type=Posts">\n        <img\n          src="https://image.flaticon.com/icons/svg/1076/1076984.svg"\n          alt="likes-icon"\n        />\n      </a>\n\n        <span>${e}</span>`)},newUnLikeDomPost=function(e,n){return $(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${n._id}&type=Posts">\n        <img\n            src="https://image.flaticon.com/icons/svg/1077/1077035.svg"\n            alt="likes-icon"\n          />\n      </a>\n\n        <span>${e}</span>`)},newLikeDomComment=function(e,n){return $(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${n._id}&type=Comments">\n        <img\n          src="https://image.flaticon.com/icons/svg/1076/1076984.svg"\n          alt="likes-icon"\n        />\n      </a>\n\n        <span>${e}</span>`)},newUnLikeDomComment=function(e,n){return $(` <a data-likes=${e} class="toggle-btn" href="/likes/toggle?id=${n._id}&type=Comments">\n        <img\n            src="https://image.flaticon.com/icons/svg/1077/1077035.svg"\n            alt="likes-icon"\n          />\n      </a>\n\n        <span>${e}</span>`)};