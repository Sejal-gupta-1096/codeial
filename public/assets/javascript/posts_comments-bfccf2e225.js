let createComment=function(){let e=$(".comments-form");console.log(e),e.each((function(){console.log($(this));let e=$(this);e.submit((function(t){t.preventDefault(),$.ajax({type:"POST",url:"/comments/add-comment",data:e.serialize(),success:function(e){console.log(e);let t=newCommentToBePrepended(e.comment);console.log($("#comments-list-id-"+e.comment.post)),$("#comments-list-id-"+e.comment.post).prepend(t),deleteComment($(" .delete-comment-btn",t)),toggleLike($(" .toggle-btn",t)),notifications("success",e.message),toggleLike()},error:function(e){console.log(e.responseText)}})}))}))},newCommentToBePrepended=function(e){return $(`<li id="comment-id-${e._id}">\n                    <a class="delete-comment-btn" href="/comments/delete-comment/${e._id}"><i class="fas fa-window-close"></i></a>\n            \n                    ${e.content}\n                    ${e.user.name}\n                    <a data-likes="0" class="toggle-btn" href="/likes/toggle/?id=${e._id}&type=Comments">${e.likes.length} Likes</a>\n                </li>`)},deleteComment=function(e){console.log(e),$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){console.log(e),console.log($("#comment-id-"+e.comment_id)),$("#comment-id-"+e.comment_id).remove(),notifications("success",e.message)},error:function(e){console.log("Error:",e.responseText)}})}))};$(" .post-comments-list>ul li").each((function(){deleteComment($(" .delete-comment-btn",$(this)))})),createComment();